{% load i18n static %}

<!--begin::Dashboard config drawer-->
<div id="kt_drawer_dashboard" class="bg-body" data-kt-drawer="true" data-kt-drawer-name="dashboard"
     data-kt-drawer-activate="true" data-kt-drawer-overlay="true"
     data-kt-drawer-width="{default:'300px', 'md': '500px'}" data-kt-drawer-direction="end"
     data-kt-drawer-toggle="#kt_drawer_dashboard_toggle" data-kt-drawer-close="#kt_drawer_dashboard_close">
  <!--begin::Messenger-->
  <div class="card w-100 border-0 rounded-0" id="kt_drawer_dashboard_config">
    <!--begin::Card header-->
    <div class="card-header bgi-position-y-bottom bgi-position-x-end bgi-size-cover bgi-no-repeat rounded-0 border-0 pe-5"
         id="kt_drawer_dashboard_config_header" style="background-image:url({% static 'media/misc/layout/customizer-header-bg.jpg' %})">
      <!--begin::Title-->
      <div class="card-title">
      </div>
      <!--end::Title-->
      <!--begin::Card toolbar-->
      <div class="card-toolbar">
        <!--begin::Close-->
        <div class="btn btn-sm btn-icon btn-active-color-primary" id="kt_drawer_dashboard_close">
          <i class="ki-duotone ki-cross-square fs-2">
            <span class="path1"></span>
            <span class="path2"></span>
          </i>
        </div>
        <!--end::Close-->
      </div>
      <!--end::Card toolbar-->
    </div>
    <!--end::Card header-->
    <!--begin::Card body-->
    <div class="card-body" id="kt_drawer_dashboard_config_body">
      <!--begin::Modules-->
      <div class="scroll-y me-n5 pe-5" data-kt-element="messages" data-kt-scroll="true" data-kt-scroll-activate="true"
           data-kt-scroll-height="auto"
           data-kt-scroll-dependencies="#kt_drawer_dashboard_config_header, #kt_drawer_dashboard_config_footer"
           data-kt-scroll-wrappers="#kt_drawer_dashboard_config_body" data-kt-scroll-offset="0px">

        {% for key, item in dashboard.registry.items %}
          <!--begin::Item-->
          <div class="d-flex flex-stack">
            <!--begin::Section-->
            <div class="d-flex align-items-center me-5">
              {% if item.icon %}
                <!--begin::Symbol-->
                <div class="symbol symbol-40px me-4">
                  <span class="symbol-label">
                      {{ item.icon|safe }}
                  </span>
                </div>
                <!--end::Symbol-->
              {% endif %}

              <!--begin::Content-->
              <div class="me-5">
                <!--begin::Title-->
                <a href="{% if item.title_url %}{{ item.title_url }}{% else %}#{% endif %}"
                   class="text-gray-800 fw-bold text-hover-primary fs-6">{{ item.title|title }}</a>
                <!--end::Title-->

                <!--begin::Desc-->
                <span class="text-gray-500 fw-semibold fs-7 d-block text-start ps-0">
                  {{ item.description|default_if_none:"" }}
                </span>
                <!--end::Desc-->
              </div>
              <!--end::Content-->
            </div>
            <!--end::Section-->

            <!--begin::Wrapper-->
            <div class="text-gray-500 fw-bold fs-7 text-end">
              <div class="form-check form-switch form-check-custom form-check-solid">
                <input class="form-check-input module-toggle" type="checkbox" value="{{ item.id }}"
                       id="id_dashboard_module_{{ item.id }}_disable"
                       data-module-id="{{ item.id }}"
                       {% if item.id in preference_data %}checked{% endif %}
                />
              </div>
            </div>
            <!--end::Wrapper-->
          </div>
          <!--end::Item-->
          <!--begin::Separator-->
          <div class="separator separator-dashed my-5"></div>
          <!--end::Separator-->
        {% endfor %}

      </div>
      <!--end::Module-->
    </div>
    <!--end::Card body-->
    <!--begin::Card footer-->
    <div class="card-footer pt-4" id="kt_drawer_dashboard_config_footer">
      <button type="button" id="kt_drawer_dashboard_config_apply_btn" class="btn btn-primary flex-grow-1 fw-semibold">
        <!--begin::Indicator label-->
        <span class="indicator-label">{% trans 'Apply' %}</span>
        <!--end::Indicator label-->
      </button>
    </div>
    <!--end::Card footer-->
  </div>
  <!--end::Messenger-->
</div>
<!--end::Dashboard config drawer-->
